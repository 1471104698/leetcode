# 数据库范式



[三大范式详细讲解](https://www.cnblogs.com/wsg25/p/9615100.html)



## 1、第一范式（字段值不可分割）

每个列中的数据必须是原子不可分割的

例子：

 ![img](https://images2018.cnblogs.com/blog/1218459/201809/1218459-20180909201651535-1215699096.png) 

比如上面的 家庭信息 和 学校信息 就不满足要求 

家庭信息 可以分割为 家庭人口数 和 户籍

学校信息 可以分割为 学历 和 所在年级

这种就跟我们平常自我介绍："男、20岁、广东汕头人" 一样直接糅合在一起，但是它包含的是三个信息，需要进行分割，这样才能够一目了然

修改后的表结构为：

 ![img](https://images2018.cnblogs.com/blog/1218459/201809/1218459-20180909202243826-1032549277.png) 



## 2、第二范式（不存在非主属性对主属性的部分依赖）

表中列的字段存在对主键中的一部分的依赖，而不是对主键的全部依赖

这里的主键是针对 联合主键 来说的，对于单列主键没有这种部分依赖的说法

例子：

 ![img](https://images2018.cnblogs.com/blog/1218459/201809/1218459-20180909204750951-639647799.png) 

在上面这张表中，由于一个订单可以同时购买了多个产品，所以一个订单号可以对应着多个不同的产品，这样的话一个订单号就不能唯一确定 产品数量、产品折扣 之类的属性，需要 订单号 + 产品号 作为联合主键，才可以唯一确定

但是可以看到，订单金额 和 订单时间 是只依赖于 订单号的，它们是跟订单号 一起产生的，它不依赖于 产品号

这就出现了对联合主键的一部分的依赖，而不是全部依赖，因此需要进行分割

因为如果不分割，**数据出现了冗余，并且不直观**

修改后的表结构如下：

 ![img](https://images2018.cnblogs.com/blog/1218459/201809/1218459-20180909210444227-1008056975.png)  ![img](https://images2018.cnblogs.com/blog/1218459/201809/1218459-20180909210458847-2092897116.png) 



## 3、第三范式（不存在传递依赖，即非主属性间接依赖主属性）

表中的字段存在对主键的间接依赖，但是对非主键却是直接依赖

例子：

 ![img](https://images2018.cnblogs.com/blog/1218459/201809/1218459-20180909211311408-1364899740.png)

很显然，姓名、性别、家庭人口、班主任名称 都是对 学号主键的直接依赖（这里的班主任名字应该换成班主任 id，以下的班主任名字都直接称作班主任 id） 

班主任性别、班主任年龄 对 班主任 id 是直接依赖，但它们对 学号主键 却是 间接依赖

因为正是因为学号唯一确定了 班主任 id，而班主任 id 又唯一确定了 班主任性别 和 班主任年龄，类似这种传递关系，显然不能够出现在一张表中

修改后的表结构如下：

 ![img](https://images2018.cnblogs.com/blog/1218459/201809/1218459-20180909211539242-1391100354.png)  ![img](https://images2018.cnblogs.com/blog/1218459/201809/1218459-20180909211602202-1069383439.png) 

