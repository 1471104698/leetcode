## **[1171. ä»é“¾è¡¨ä¸­åˆ å»æ€»å’Œå€¼ä¸ºé›¶çš„è¿ç»­èŠ‚ç‚¹](https://leetcode-cn.com/problems/remove-zero-sum-consecutive-nodes-from-linked-list/)**



```java
ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹Â headï¼Œè¯·ä½ ç¼–å†™ä»£ç ï¼Œåå¤åˆ å»é“¾è¡¨ä¸­ç”± æ€»å’ŒÂ å€¼ä¸º 0 çš„è¿ç»­èŠ‚ç‚¹ç»„æˆçš„åºåˆ—ï¼Œç›´åˆ°ä¸å­˜åœ¨è¿™æ ·çš„åºåˆ—ä¸ºæ­¢ã€‚

åˆ é™¤å®Œæ¯•åï¼Œè¯·ä½ è¿”å›æœ€ç»ˆç»“æœé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚

Â 

ä½ å¯ä»¥è¿”å›ä»»ä½•æ»¡è¶³é¢˜ç›®è¦æ±‚çš„ç­”æ¡ˆã€‚

ï¼ˆæ³¨æ„ï¼Œä¸‹é¢ç¤ºä¾‹ä¸­çš„æ‰€æœ‰åºåˆ—ï¼Œéƒ½æ˜¯å¯¹Â ListNodeÂ å¯¹è±¡åºåˆ—åŒ–çš„è¡¨ç¤ºã€‚ï¼‰

æç¤ºï¼š

ç»™ä½ çš„é“¾è¡¨ä¸­å¯èƒ½æœ‰ 1 åˆ° 1000 ä¸ªèŠ‚ç‚¹ã€‚
å¯¹äºé“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹çš„å€¼ï¼š-1000 <= node.val <= 1000.
```



## **ç¤ºä¾‹ 1ï¼š**

```java
è¾“å…¥ï¼šhead = [1,2,-3,3,1]
è¾“å‡ºï¼š[3,1]
æç¤ºï¼šç­”æ¡ˆ [1,2,1] ä¹Ÿæ˜¯æ­£ç¡®çš„ã€‚
```



## **ç¤ºä¾‹ 2ï¼š**

```java
è¾“å…¥ï¼šhead = [1,2,3,-3,4]
è¾“å‡ºï¼š[1,2,4]
```



## **ç¤ºä¾‹ 3ï¼š**

```java
è¾“å…¥ï¼šhead = [1,2,3,-3,-2]
è¾“å‡ºï¼š[1]
```



## **å®ç°æ€è·¯**

```java
è®°å½• å‰ç¼€å’Œ å¯¹åº”çš„èŠ‚ç‚¹
            ä¸¤æ¬¡éå†ï¼š
            ç¬¬ä¸€æ¬¡éå†ï¼šä½¿ç”¨ map è®°å½•å‰ç¼€å’Œ sum å¯¹åº”çš„èŠ‚ç‚¹ node
            ç¬¬äºŒæ¬¡éå†ï¼šé€šè¿‡å½“å‰èŠ‚ç‚¹ i çš„ sum è·å–åé¢å‰ç¼€å’Œä¹Ÿæ˜¯ sum çš„èŠ‚ç‚¹ j ï¼Œç„¶å å½“å‰èŠ‚ç‚¹ i æŒ‡å‘åé¢èŠ‚ç‚¹ j.next

            å¯¹äºå‰ç¼€å’Œä¸º 0 çš„ï¼Œåˆå§‹èŠ‚ç‚¹ä¸º dummy = new ListNode(0);
```



## **å®ç°ä»£ç **

```java
class Solution {
    public ListNode removeZeroSumSublists(ListNode head) {

        Map<Integer, ListNode> map = new HashMap<>();
        ListNode dummy = new ListNode(0);
        dummy.next = head;

        int sum = 0;
        for(ListNode cur = dummy; cur != null; cur = cur.next){
            sum += cur.val;
            /*
            å¯¹ å‰é¢å‡ºç°çš„ sum è¿›è¡Œè¦†ç›–
            i, i+1, i+2, ... , j, j+1, j+2, ..., k, k+1, k+2, ...
            ğŸ‘†                 ğŸ‘†                ğŸ‘†
            sum               sum               sum
            å‡è®¾åœ¨è¿™ä¸‰ä¸ªä½ç½®çš„å‰ç¼€å’Œéƒ½æ˜¯ sumï¼Œé‚£ä¹ˆæ„å‘³ç€ [i + 1, j] å’Œ [j + 1, k] ä»¥åŠ [i + 1, k] çš„å’Œéƒ½æ˜¯ 0
            è€Œ [i + 1, j] + [j + 1, k] == [i + 1, k]ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦è®°å½•æœ€åå‡ºç°çš„ sum ä½ç½®èŠ‚ç‚¹å³å¯
            */
            map.put(sum, cur);
        }

        sum = 0;
        for(ListNode cur = dummy; cur != null; cur = cur.next){
            sum += cur.val;
            if(map.containsKey(sum)){
                cur.next = map.get(sum).next;
            }
        }
        return dummy.next;
    }
}
```

