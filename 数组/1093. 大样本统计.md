## **[1093. 大样本统计](https://leetcode-cn.com/problems/statistics-from-a-large-sample/)**

```java
我们对 0 到 255 之间的整数进行采样，并将结果存储在数组 count 中：count[k] 就是整数 k 的采样个数。

我们以 浮点数 数组的形式，分别返回样本的最小值、最大值、平均值、中位数和众数。其中，众数是保证唯一的。

我们先来回顾一下中位数的知识：

如果样本中的元素有序，并且元素数量为奇数时，中位数为最中间的那个元素；
如果样本中的元素有序，并且元素数量为偶数时，中位数为中间的两个元素的平均值。

提示：

count.length == 256
1 <= sum(count) <= 10^9
计数表示的众数是唯一的
答案与真实值误差在 10^-5 以内就会被视为正确答案
```



## **示例 1：**

```java
输入：count = [0,1,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
输出：[1.00000,3.00000,2.37500,2.50000,3.00000]
```



## **示例 2：**

```java
输入：count = [0,4,3,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
输出：[1.00000,4.00000,2.18182,2.00000,1.00000]
```





## **实现思路**

```java
1、正序遍历求最小值
2、反序遍历求最大值
3、通过求和 sum 得到平均数，遍历过程中记录出现次数最多的元素作为众数
4、在第 3 步遍历中记录所有数字的总个数 count
	如果 count 为偶数，那么中位数为 位置为 count / 2 和 count / 2 + 1 的和
	如果 count 为奇数，那么中位数为 位置为 count / 2 + 1
```



## **实现代码**

```java
class Solution {
    public double[] sampleStats(int[] c) {
        /*
        最小值、最大值、平均值、中位数 众数
        0       1       2       3   4
        */
        
        double[] res = new double[5];   
        
        //1、最小值
        for(int i = 0; i <= 255; i++){
            if(c[i] != 0){
                res[0] = i;
                break;
            }   
        }
        //2、最大值
        for(int i = 255; i >= 0; i--){
            if(c[i] != 0){
                res[1] = i;
                break;
            }   
        }
        //3、平均数和众数
        //元素总和
        long sum = 0;
        //总的元素个数
        int count = 0;
        //出现次数最多的元素个数
        int maxSize = 0;
        for(int i = 0; i <= 255; i++){
            sum += c[i] * i;
            if(maxSize < c[i]){
                maxSize = c[i];
                res[4] = i;
            }
            count += c[i];
        }
        res[2] = sum * 1.0 / count;

        //4、中位数
        //中位数位置
        int mid_left = count / 2;
        int mid_right = count / 2 + 1;
        int num = 0;
        int left = -1;
        int right = -1;
        for(int i = 0; i <= 255; i++){
            num += c[i];
            if(num >= mid_left && left == -1){
                left = i;
            }
            if(num >= mid_right){
                right = i;
            }
            if(left != -1 && right != -1){
                break;
            }
        }
        res[3] = (count & 1) == 0 ? (left + right) * 0.5 : right * 1.0;
        return res;
    }
}
```

