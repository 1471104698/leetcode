# Java 中的转义



```java
String str = "1.1.1.1";
String[] strs = str.split(".");
System.out.println(strs.length);
```

输出结果：

```java
0
```

结果显然跟我们预期的不一样

首先 split() 内部使用的是 正则表达式 匹配，而在正则表达式中，`.`匹配的是 任何字符，所以它是一个特殊字符，所以我们需要进行 转义，将它变成一个正常的符号 `.`

这里就需要用到 「转义」，转义的标识符是 `\`，我们在前面添加 `\` 变成 `\.`

```java
String[] strs = str.split("\.");
```

但是编译错误，显示 "非法转义符"



正确的写法应该是：

```java
String[] strs = str.split("\\.");
```

输出结果：

```java
4
```



**解释：**

在正则表达式层面，`.` 是特殊字符，而我们要匹配的并不是这个特殊字符的含义，而是单单想要匹配一个 `.`，所以正则表达式就规定了在特殊字符前面加 `\` 就表示不按特殊字符来算，因此我们需要变成 `\.`

但是，我们现在是在 Java 语言上面使用正则表达式，Java 语言对于字符串的形式也有自己一套规则，比如 `\n`、`\b`、`\\` 等，Java 语言认为 `\` 后面跟字符表示的是特殊字符，有它的特殊含义，它们都是**一个字符**

所以，`\.` 满足了正则表达式的规则但是不满足 Java 语言层面的字符串规则，但是 Java 语言也规定了，`\`后面跟着特殊字符那么就不按特殊字符的含义来算，而是按照正常字符串的含义来算，因此，我们需要再添加一个 `\`，将 `\.` 从特殊字符的含义转换为我们真正想要的 `\.` 这种字面意思上的字符串

即最终变成了 `\\.`